## 1.15 배열에 항목 수정하기

### 삼항연산자 사용

active값에 따라 다른 상태 보여줄수 있는 코드를 작성할 수 있다.

```jsx
// CreateUser.js의 User 컴포넌트
	
function User ({user, onRemove}){
		return (
    <div>
      <b
        style={{
          cursor: 'pointer',
          color: user.active ? 'green' : 'black' //이부분, user.active에 따라 color 바뀜.
        }}
      >
        {user.username}
      </b>

      <span>({user.email})</span>
      <button onClick={() => onRemove(user.id)}>삭제</button>
    </div>
  );
}
```

### onToggle 함수 넣어주기

UserList 컴포넌트에 onToggle={onToggle}  으로 Props를 전달해준다.

```jsx
function UserList({ users, onRemove }) {
  return (
    <div>
      {users.map(user => (
        <User user={user} key={user.id} onRemove={onRemove} />
      ))} {/*onRemove 함수 받고, user 컴포넌트에 onRemove 보내줌.*/}
    </div>
  );
}
```

### App.js

기본구조

```jsx
//App.js
import React from 'react';

//인풋설정, users 배열구조 설정
	const [inputs, setInputs] = useState({
		{
		username : '',
		email : ''
		} 
	})
	const {username, email} = inputs // 비구조화 할당.
const [users, setUsers] = useState([
    {
      id: 1,
      username: 'velopert',
      email: 'public.velopert@gmail.com',
      active: true
    },
    {
      id: 2,
      username: 'tester',
      email: 'tester@example.com',
      active: false
    },
    {
      id: 3,
      username: 'liz',
      email: 'liz@example.com',
      active: false
    }
  ]);
})
const nextId = useRef(4);

//사용되는 함수들 정리
	//onChange -> 동적인 값 확인
	const onChange = (e) => {
		const {name, value} = e.target //이벤트 타겟의 name과 value 받아옴.
    setInputs({
      ...inputs,
      [name]: value
    });})
}
	// onCreate -> 배열의 새로운 원소 만들기.
	const onCreate = 
		const user = {
      id: nextId.current,
      username,
      email
    };
    setUsers(users.concat(user));
    setInputs({
      username: '',
      email: ''
    });
    nextId.current += 1;
  };
	const onRemove = 

// 배열내 원소의 항목 바꾸기
const onToggle = id => {
    setUsers( //
      users.map(user =>
        user.id === id ? { ...user, active: !user.active } : user
      )
    );
  };
	// 토글의 구현을 위해 사용한것, map 함수, 삼항연산자, boolean,
// 배열 내 원소 지우기
const onRemove = id => {
    // user.id 가 파라미터로 일치하지 않는 원소만 추출해서 새로운 배열을 만듬
    // = user.id 가 id 인 것을 제거함
    setUsers(users.filter(user => user.id !== id));
  };
	//내장함수 filter 사용, user.id 가 파라미터로 받아온 id와 다른걸 남김, 
	//(파라미터로 받아온 녀석을 없앨꺼기 때문에,)

return (
    <>
      <CreateUser
        username={username}
        email={email}
        onChange={onChange}
        onCreate={onCreate}
      />
      <UserList users={users} onRemove={onRemove} onToggle={onToggle} />
    </>
  );
}
// CreateUser -> 인풋 두개 등록버튼 하나 있는 컴포넌트
// UserList -> div 틀인 User 컴포넌트와 거기에 값 넣어주는 UserList 컴포넌트로 구성.
export default App;
```

### onToggle 함수 살펴보기

삼항연산자 활용해서 true, false 적용

```jsx

//onToggle 함수!! 배열항목 변화에 사용한다.
const onToggle = id => {
    setUsers( //
      users.map(user =>
        user.id === id ? { ...user, active: !user.active } : user
      )
    );
  };
// 토글의 구현을 위해 사용한것, map 함수, 삼항연산자, boolean,
// map 함수 활용법은 위에 정리!!!!!

```

### 질문

배열 내의 항목을 수정하기 위해 사용한 배열의 메소드와 사용방법은?

- 답
    - .map() 메소드와 삼항 연산자 스프레드 문법을 활용
        1. .map(user ⇒ [user.id](http://user.id) === id ? {ture에 해당하는값} : user)

            배열 내 모든 원소에 접근하여, 받아온 아이디 값이 true일때만 값의 변화를 준다. false인 경우에는 그대로 같은 원소인 user 리턴

        2.  {...user, active : !user.active}

            ...user 스프레드 문법으로 원소(객체이다)의 모든 값을 복사해오고, 그중에 active 프로퍼티를 수정해준다.

            !user.active로 불리언값을 ! 반대값으로 바꿔줌.