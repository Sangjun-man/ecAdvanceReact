# 14. 배열에 항목 제거하기

배열 항목을 삭제 하기 위해서 각 이름과 이메일 항목에 삭제 버튼을 만들 것이다.

### UserList.js

```jsx
import React from 'react';

const User = ({ user, onRemove }) => {
    const { id, username, email } = user;
    return (
        <div>
            <b>{username}</b>({email})
            <button onClick={() => onRemove(id)}>삭제</button>
        </div>
    );
}
const UserList = ({ users, onRemove }) => {
    return (
        <>
            {users.map((user) => (
                <User user={user} onRemove={onRemove} key={user.id} />
            ))}
        </>
    );
}
export default UserList;
```

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f70df455-4220-4763-a1e1-cc9e2def8635/_2021-07-14__2.56.29.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f70df455-4220-4763-a1e1-cc9e2def8635/_2021-07-14__2.56.29.png)

User 컴포넌트의 삭제 버튼이 클릭될 때는 `id` 값을 앞으로 `props` 로 받아올 `onRemove` 함수의 파라미터로 넣어서 호출한다.

`onRemove` 는 "id 가 __인 객체를 삭제해라"라는 의미이다.

`onRemove` 함수는 UserList에서도 받을 것이고, 이를 그대로 User 컴포넌트로 넣어준다.

배열을 삭제할 때에도 마찬가지로 불변성을 지켜주어야 한다.

`onRemove` 함수를 구현해 보자

### App.js

```jsx
import React, { useState, useRef } from 'react';
import CreateUser from './CreateUser';
import UserList from './UserList';

const App = () => {
  const [inputs, setInputs] = useState({
    username: '',
    email: ''
  });
  const { username, email } = inputs;
  const onChange = e => {
    const { value, name } = e.target;
    setInputs({
      ...inputs,
      [name]: value
    });
  };
  const [users, setUsers] = useState([
    {
      id: 1,
      username: 'velopert',
      email: 'public.velopert@gmail.com'
    },
    {
      id: 2,
      username: 'tester',
      email: 'tester@example.com'
    },
    {
      id: 3,
      username: 'liz',
      email: 'liz@example.com'
    }
  ]);
  const nextId = useRef(4);
  const onCreate = () => {
    const user = {
      id: nextId.current,
      username,
      email
    };
    setUsers([...users, user]);

    setInputs({
      username: '',
      email: ''
    });
    nextId.current += 1;
  };
  const onRemove = id => {
    setUsers(users.filter(user => id !== user.id));
  };
  return (
    <>
      <CreateUser
        username={username}
        email={email}
        onChange={onChange}
        onCreate={onCreate}
      />
      <UserList users={users} onRemove={onRemove}/>
    </>
  )
}

export default App;
```

`onRemove` 함수에서 `filter` 배열 내장 함수를 사용하였다.

`filter` 함수는 배열에서 어떤 조건을 만족하는(true) 원소들만 추출해서 새로운 배열을 만들어주는 함수이다.

`onRemove` 함수가 가져온 id값을 users배열에서 해당 id값이 아닌 원소들만 추출하여 새로운 배열을 만들어준 후 상태를 변화시켰다.

### 질문

배열에서 특정 원소를 제거하기 위해 어떤 함수를 사용하였고, 그 함수의 역할은 무엇인가?

- filter 함수를 사용하였다.
- 이 함수는 특정 조건을 만족하는 원소만을 추출하여 새로운 배열을 만들어 주는 함수이다.