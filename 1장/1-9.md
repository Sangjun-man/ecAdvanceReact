# 09. 여러개의 input상태 관리하기# 09. 여러 개의 input상태 관리하기

input 이 여러개 일 때 어떻게 값의 상태를 다룰 것인가?

여러개의 `useState` 를 사용해서 각각의 `input` 에서 이벤트가 감지되면, 각각의 `state` 를 바꿔줄 수 있다. 하지만 좋은 방법은 아니다. 더 좋은 방법은 `input` 에 `name` 을 지정하고, 이벤트가 발생했을 때 이 값을 참조한다. 그리고 `useState` 에서는 문자열 대신 객체 형태의 상태를 관리해 준다. 

```jsx
import React, {useState} from "react";

const InputSample = () => {
    const [inputs, setInputs] = useState({
        name :'',
        nickName:'',
    });
    const {name, nickName} = inputs; // 비구조화 할당을 통해 값 추출
    const onChange = (e) => {
        const {value, name} = e.target; // 이벤트가 발생한 DOM에서 value와 name을 추출
        setInputs({
            ...inputs, // spread로 기존의 input 값을 복사
            [name]: value 
					// 새로운 객체의 값을 바꿔준다. name키를 가진 값을 value로 바꿔준다.
        });
    };
    const onReset = () => {
        setInputs({
            name: '',
            nickName: ''
        });
    }; 
    
    return (
        <>
            <input name="name" value={name} onChange={onChange} placeholder="이름"/>
            <input name="nickName" value={nickName} onChange={onChange} placeholder="닉네임"/>
            <button onClick={onReset}>초기화</button>
            <div>
                <b>값 : </b>
                {name} ({nickName})
            </div>
        </>
    );
}

export default InputSample;
```

리액트 상태에서 객체를 수정할 때,

```jsx
inputs[name]=value;
```

이런 식으로 변경하면 안된다.

대신 새로운 객체를 만들어서 새로운 객체에 변화를 주고, 이를 상태로 사용해야 한다.

```jsx
setInputs({
	...inputs,
	[name]: value
});
```

여기서 `...` 문법는 spread 문법이다. spread 문법으로 기존 객체를 '펼쳐서' 복사하였다.

위와 같은 식의 작업을 "불변성을 지킨다."라고 한다. 불편성을 지켜주어야만 리액트 컴포넌트에서 상태가 업데이트 됐음을 감지할 수 있고, 이에 따라 필요한 리렌더링(re-rendering)이 진행된다.

[추가] 리액트에서는 불변성을 지켜주어야만 컴포넌트 업데이트 성능 최적화를 제대로 할 수 있다.

<기억할 것>

리액트에서 객체를 업데이트하게 될 때에는 기존 객체를 직접 수정하면 안되고, 새로운 객체를 만들어서 새 객체에 변화를 주어야 한다.

### 질문

리액트에서 불변성을 지켜주어야 하는 이유는 무엇인가?

- 컴포넌트 업데이트 성능 최적화를 제대로 하기 위해서이다.

객체의 불변성을 지켜주려면 어떻게 해야 하는가?

- 기존 객체를 직접 수정하지 않고, 그 객체를 복사하여 새로운 객체를 수정한다.