# 12. useRef로 컴포넌트 안의 변수 만들기

`useRef`의 역할

- 함수형 컴포넌트에서 특정 DOM을 선택할 수 있는 용도(1-10에서 배움)
- **컴포넌트 안에서 조회 및 수정할 수 있는 변수를 관리하는 용도(지금 배울 내용!)**

`useRef` 로 관리하는 변수는 값이 바뀐다고 해서 컴포넌트가 리렌더링 되지 않는다.

([React Docs](https://ko.reactjs.org/docs/hooks-reference.html#useref) : Mutating the `.current` property doesn’t cause a re-render.(`.current` 프로퍼티를 바꾸는 것은 리렌더링을 발생시키지 않는다.))

리액트 컴포넌트에서의 상태는 상태를 변화시키는 함수를 호출하고 나서 그 다음 렌더링 이후로 업데이트 된 상태를 조회할 수 있는 반면, `useRef` 로 관리하는 변수는 설정 후 바로 조회 할 수 있다.

예제>

`App` 컴포넌트에서 `useRef` 를 이용해서 변수를 관리할 것이다.

배열에 새 항목을 추가할 것이고, 새 항목의  고유한 `id` 값을 관리할 것이다.

```jsx
import React, { useRef } from 'react';
import UserList from './UserList';

const App = () => {
  const users = [
    {
      id: 1,
      username: 'velopert',
      email: 'public.velopert@gmail.com'
    },
    {
      id: 2,
      username: 'tester',
      email: 'tester@example.com'
    },
    {
      id: 3,
      username: 'liz',
      email: 'liz@example.com'
    }
  ];
  const newId = useRef(4);
  const onCreate = () => {
		// ... Doing something
    newId.current += 1;
  }
  return (
    <UserList users={users} />
  )
}

export default App;
```

```jsx
import React from 'react';

const User = ({user}) => {
    const {username, email} = user;
    return (
        <div><b>{username}</b>({email})</div>
    );
}
const UserList = ({users}) => {
    return (
        <>
            {users.map((user) => (
                <User user={user} key={user.id}/>
            ))}
        </>
    );
}
export default UserList;
```

### 질문

`useRef`로 관리하는 변수는 리액트 컴포넌트에서의 상태를 관리하는 것과 어떤 차이가 있는가

`useRef` 로 관리하는 변수는 변경을 하더라고 컴포넌트가 리렌더링 되지 않고 바로 조회할 수 있다.

하지만 리액트 컴포넌트의 상태는 상태를 바꾸는 함수를 호출하고 컴포넌트가 리렌더링 된 이후에 그 상태를 조회할 수 있다.